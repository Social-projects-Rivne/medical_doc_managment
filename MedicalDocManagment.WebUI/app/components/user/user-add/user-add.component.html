<form  class="form-horizontal" enctype="multipart/form-data" (ngSubmit)="submit($event);userAddForm.reset();resetMessages();resetImage();" #userAddForm="ngForm">
    <div class="form-group">
        <label for="username" class="control-label col-xs-2">Ім’я користувача</label>
        <div class = "col-xs-5">
        	<div class="input-group">
        		<span class="input-group-addon"><i class="glyphicon glyphicon-user" aria-hidden="true"></i></span>
		        <input type="text" class="form-control col-xs-5" id="username" name="username" [(ngModel)]="user.userName"
		               #username="ngModel" required pattern="[a-zA-Z0-9]{3,60}"
                       title="Може містити латинські літери та цифри. Довжина від 3 до 60 символів."/>
	        </div>
	        <div [hidden]="username.valid || username.untouched" class="alert alert-danger">
		            Некоректне ім’я користувача
		    </div>
        </div>
    </div>
    <div class="form-group">
        <label for="email" class="control-label col-xs-2">Електронна пошта</label>
        <div class = "col-xs-5">
        	<div class="input-group">
	        	<span class="input-group-addon"><i class="glyphicon glyphicon-envelope" aria-hidden="true"></i></span>
		        <input type="text" class="form-control" id="email" name="email" [(ngModel)]="user.email" 
		               #email="ngModel" required pattern="[-\w.]+@([A-z0-9][-A-z0-9]+\.)+[A-z]{2,4}"/>
        	</div>
        	<div [hidden]="email.valid || email.untouched" class="alert alert-danger">
	            Недійсна електронна адреса
	        </div>
        </div>
    </div>
    <div class="form-group">
        <label for="password" class="control-label col-xs-2">Пароль</label>
        <div class = "col-xs-5">
        	<div class="input-group">
	        	<span class="input-group-addon"><i class="glyphicon glyphicon-asterisk" aria-hidden="true"></i></span>
		        <input type="text" class="form-control col-xs-2" id="password" name="password" [(ngModel)]="user.password" 
		               #password="ngModel" required pattern="[A-Za-z0-9!@#$%^&amp;*'&gt;&lt;?.,&quot;()+-_~`{}|]{6,100}"
                       title="Може містити латинські літери, цифри та спецсимволи. Довжина від 6 до 100 символів."/>
	        </div>
	        <div [hidden]="password.valid || password.untouched" class="alert alert-danger">
	            Некоректний пароль
	        </div>
        </div>
    </div>
    <div class="form-group">
        <label for="firstName" class="control-label col-xs-2">Ім’я</label>
        <div class = "col-xs-5">
        	<div class="input-group">
	        	<span class="input-group-addon"><i class="glyphicon glyphicon-info-sign" aria-hidden="true"></i></span>
		        <input type="text" class="form-control" id="firstName" name="firstName" [(ngModel)]="user.firstName" 
		               #firstName="ngModel" required pattern="[А-Яа-яґҐєЄіІїЇ`´ʼ’ʼ’'-]{1,100}"
                       title="Може містити кириличні літери, дефіс та апостроф. Довжина від 1 до 100 символів."/>
	        </div>
	        <div [hidden]="firstName.valid || firstName.untouched" class="alert alert-danger">
	            Некоректне ім’я
	        </div>
        </div>
    </div>
    <div class="form-group">
        <label for="secondName" class="control-label col-xs-2">По батькові</label>
        <div class = "col-xs-5">
        	<div class="input-group">
	        	<span class="input-group-addon"><i class="glyphicon glyphicon-info-sign" aria-hidden="true"></i></span>
		        <input type="text" class="form-control" id="secondName" name="secondName" [(ngModel)]="user.secondName" 
		               #secondName="ngModel" pattern="[А-Яа-яґҐєЄіІїЇ`´ʼ’ʼ’'-]{1,100}"
                       title="Може містити кириличні літери, дефіс та апостроф. Довжина від 1 до 100 символів."/>
	         </div>
	        <div [hidden]="secondName.valid || secondName.untouched" class="alert alert-danger">
	            Некоректне по батькові
	        </div>
        </div>
    </div>
    <div class="form-group">
        <label for="lastName" class="control-label col-xs-2">Прізвище</label>
        <div class = "col-xs-5">
        	<div class="input-group">
	        	<span class="input-group-addon"><i class="glyphicon glyphicon-info-sign" aria-hidden="true"></i></span>
		        <input type="text" class="form-control" id="lastName" name="lastName" [(ngModel)]="user.lastName"  
		               #lastName="ngModel" required pattern="[А-Яа-яґҐєЄіІїЇ`´ʼ’ʼ’'-]{1,100}"
                       title="Може містити кириличні літери, дефіс та апостроф. Довжина від 1 до 100 символів."/>
	        </div>
	        <div [hidden]="lastName.valid || lastName.untouched" class="alert alert-danger">
	            Некоректне прізвище
	        </div>
        </div>
    </div>
    <div class="form-group">
        <label for="position" class="control-label col-xs-2">Посада</label>
        <div class = "col-xs-5">
        	<div class="input-group">
        		<span class="input-group-addon"><i class="glyphicon glyphicon-th-list" aria-hidden="true"></i></span>
		        <select name="position" id="position" [(ngModel)]="user.positionId" class="form-control" 
		                required #position="ngModel">
		            <option *ngFor="let position of positions" [ngValue]="position.positionId">
		                {{position.name}}
		            </option>
		        </select>
	        </div>
	        <div [hidden]="position.valid || position.untouched" class="alert alert-danger">
	            Необхідно вибрати посаду
	        </div>
        </div>
    </div>
    <div class="form-group">
        <label for="photo" class="control-label col-xs-2">Фото користувача</label>
        <div class="col-xs-5">
            <image-upload id="photo"
                          name="photo"
                          [max]="100"
                          [preview]="false"
                          (onFileUploadFinish)="imageUploaded($event)"
                          (onRemove)="imageRemoved($event)"
                          [buttonCaption]="'Вибрати зображення'"
                          [dropBoxMessage]="'Перетягніть зображення сюди'">

            </image-upload>
            <div *ngIf="showImageSelectedMessage && userImage!=null" class="alert alert-info">
                Вибрано зображення {{userImage.name}}
            </div>
            <div *ngIf="showImageSelectedMessage">
                <button type="button" class="btn btn-danger btn-block" (click)="imageRemoved($event);">Відмінити вибір</button>
            </div>
            <div *ngIf="showImageInvalidMessage" class="alert alert-danger">
                Розмір зображення не повинен перевищувати 300 кБ, а висота та ширина 150 пікселів.
            </div>
            
        </div>
    </div>
    <div class="form-group">
	    <div class="col-xs-offset-2 col-xs-10">
	        <button [disabled]="userAddForm.form.invalid" class="btn btn-default" type="submit">Додати користувача</button>
	    </div>
    </div>
</form>
<simple-notifications [options]="notificationOptions"></simple-notifications>