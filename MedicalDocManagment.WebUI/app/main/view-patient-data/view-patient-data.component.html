<div class="container">
    <form class="form">
        <div class="form-group">
            <label class="control-label" for="lastName">Прізвище</label>
            <input type="text" class="form-control" id="lastName" name="lastName"
                   [(ngModel)]="_patientToView.lastName" #lastName="ngModel" />
            <div *ngIf="!_patientToView.lastName && lastName.touched"
                 class="alert alert-danger">
                Введіть прізвище.
            </div>
        </div>
        <div class="form-group">
            <label class="control-label" for="firstName">Ім'я</label>
            <input type="text" class="form-control" id="firstName" name="firstName"
                   [(ngModel)]="_patientToView.firstName" #firstName="ngModel" />
            <div *ngIf="!_patientToView.firstName && firstName.touched"
                 class="alert alert-danger">
                Введіть ім'я.
            </div>
        </div>
        <div class="form-group">
            <label class="control-label" for="secondName">По-батькові</label>
            <input type="text" class="form-control" id="secondName" name="secondName"
                   [(ngModel)]="_patientToView.secondName" #secondName="ngModel" />
            <div *ngIf="!_patientToView.secondName && secondName.touched"
                 class="alert alert-danger">
                Введіть по-батькові.
            </div>
        </div>
        <div class="form-group">
            <label class="control-label" for="birthDate">Дата народження</label>
            <div class="input-group date" data-provide="datepicker" id="birthDatePicker"
                 #birthDatePicker>
                <input type="text" #birthDatePickerInput class="form-control">
                <div class="input-group-addon">
                    <span class="glyphicon glyphicon-th"></span>
                </div>
            </div>
            <div *ngIf="!_patientToView.birthDate && this._birthDatePickerTouched" 
                 class="alert alert-danger">
                Введіть дату народження.
            </div>
        </div>
        <div class="form-group">
            <div class="row">
                <button class="btn btn-default" (click)="viewPatientData()"
                        [disabled]="!_patientToView.lastName || !_patientToView.firstName
                        || !_patientToView.secondName || !_patientToView.birthDate"
                        *ngIf="!_isSearching">
                    Знайти
                </button>
                <div *ngIf="!_patientToView.lastName || !_patientToView.firstName
                     || !_patientToView.secondName || !_patientToView.birthDate"
                     class="alert alert-danger">
                    Для пошуку введіть значення у всі поля.
                </div>
            </div>
            <div class="progress" *ngIf="_isSearching">
                <div class="progress-bar progress-bar-info progress-bar-striped active"
                     role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="0"
                     style="width:100%">
                    Триває отримання даних про пацієнта...
                </div>
            </div>
            <div *ngIf="_isErrorOnSearching" class="alert alert-danger">
                {{_lastErrorMessage}}
            </div>
        </div>
        <div class="form-group" *ngIf="_triedToSearch && !_isSearching && !_isErrorOnSearching
         && _searchResult">
            <h4 class="text-center">Дані про пацієнта:</h4>
            <children-cards-list [childrenCards]="_searchResult"></children-cards-list>
        </div>
        <div class="alert alert-info" *ngIf="_triedToSearch && !_isSearching  && !_isErrorOnSearching
         && !_searchResult ">
            <h4>По Вашому запиту нічого не знайдено.</h4>
        </div>
    </form>
</div>